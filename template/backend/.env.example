# ==========================================
# Telegram Bot Configuration
# ==========================================
# Get your bot token from @BotFather on Telegram
BOT_TOKEN=7524731652:AAGP-nFoYuL6PT6tprSTnbMEkmmH3_7iG44

# Mini app URL (change version parameter for cache busting)
APP_URL=https://telegramwebapp.webtm.ru/?v=2

# ==========================================
# Database Configuration
# ==========================================
# PostgreSQL connection settings
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=telegram_bot
POSTGRES_USER=telegram
POSTGRES_PASSWORD=secure_pass_2024

# ==========================================
# Redis Configuration
# ==========================================
# Redis is used for BullMQ queue and rate limiting
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=1

# ==========================================
# YooKassa Payment Gateway
# ==========================================
# Get credentials from https://yookassa.ru/
YOOKASSA_SHOP_ID=1071932
YOOKASSA_SECRET_KEY=live_hWErqH3d4iabfytcNhbWqttodx4d72oBKRvuGpoh_uU

# ==========================================
# Notification System Configuration
# ==========================================
# Enable/disable notification queue processing
NOTIFICATION_QUEUE_ENABLED=true

# Rate limiting: max notifications per user per minute
# Telegram Bot API limit: 20 messages/minute per chat
NOTIFICATION_RATE_LIMIT_USER=20

# Global rate limit: messages per second
# Telegram Bot API limit: 30 messages/second (we use 25 for safety buffer)
NOTIFICATION_RATE_LIMIT_GLOBAL=25

# Retry configuration for failed notifications
# Number of retry attempts before marking as failed
NOTIFICATION_RETRY_ATTEMPTS=3

# Initial retry delay in milliseconds (exponential backoff: 1min, 2min, 4min)
NOTIFICATION_RETRY_DELAY_MS=60000

# ==========================================
# Bull Board Dashboard (Queue Monitoring)
# ==========================================
# Enable Bull Board in production (disabled by default)
BULL_BOARD_ENABLED=false

# Dashboard path (default: /admin/queues)
BULL_BOARD_PATH=/admin/queues

# ==========================================
# Application Configuration
# ==========================================
# Environment (development, production)
NODE_ENV=production
